{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://ttrpg-converter.com/schemas/foundry/core/journal-page.json",
  "title": "Foundry Journal Page",
  "description": "Individual journal entry page",
  "type": "object",
  "required": ["_id", "name", "type"],
  "properties": {
    "_id": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9]{16}$"
    },
    "name": {
      "type": "string",
      "minLength": 1
    },
    "type": {
      "type": "string",
      "enum": ["text", "image", "pdf", "video"],
      "description": "Page content type"
    },
    "title": {
      "type": "object",
      "properties": {
        "show": {
          "type": "boolean",
          "description": "Whether to show page title"
        },
        "level": {
          "type": "integer",
          "minimum": 1,
          "maximum": 6,
          "description": "Heading level (1-6)"
        }
      }
    },
    "image": {
      "type": "object",
      "properties": {
        "caption": {
          "type": "string",
          "description": "Image caption text"
        }
      }
    },
    "text": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string",
          "description": "Rich text HTML content"
        },
        "markdown": {
          "type": "string", 
          "description": "Markdown source content"
        },
        "format": {
          "type": "integer",
          "enum": [1, 2],
          "description": "Text format: 1=HTML, 2=Markdown"
        }
      }
    },
    "video": {
      "type": "object",
      "properties": {
        "loop": {
          "type": "boolean",
          "description": "Whether to loop video playback"
        },
        "autoplay": {
          "type": "boolean",
          "description": "Whether to autoplay video"
        },
        "volume": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Video volume (0-1)"
        },
        "timestamp": {
          "type": "number",
          "minimum": 0,
          "description": "Start timestamp in seconds"
        },
        "width": {
          "type": "number",
          "minimum": 1,
          "description": "Video display width"
        },
        "height": {
          "type": "number", 
          "minimum": 1,
          "description": "Video display height"
        }
      }
    },
    "src": {
      "type": "string",
      "format": "uri",
      "description": "Source URL for PDF/external content"
    },
    "sort": {
      "type": "number"
    },
    "ownership": {
      "$ref": "../common/ownership.json"
    },
    "flags": {
      "type": "object"
    }
  }
}
