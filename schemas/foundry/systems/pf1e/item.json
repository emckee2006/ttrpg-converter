{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://ttrpg-converter.com/schemas/foundry/systems/pf1e/item.json",
  "title": "Foundry PF1e Item",
  "description": "Schema for Foundry VTT Pathfinder 1e item documents",
  "allOf": [
    {
      "$ref": "../../common/base-document.json"
    },
    {
      "type": "object",
      "required": ["type", "system"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["weapon", "equipment", "consumable", "loot", "class", "spell", "feat", "buff", "attack", "race", "enhancement"],
          "description": "PF1e item type"
        },
        "img": {
          "$ref": "../../common/image-reference.json"
        },
        "system": {
          "type": "object",
          "description": "PF1e-specific item data",
          "properties": {
            "description": {
              "type": "object",
              "properties": {
                "value": {
                  "$ref": "../../common/html-string.json"
                },
                "chat": {
                  "$ref": "../../common/html-string.json"
                }
              }
            },
            "quantity": {
              "type": "number",
              "minimum": 0
            },
            "weight": {
              "type": "number",
              "minimum": 0
            },
            "price": {
              "type": "number",
              "minimum": 0
            },
            "identified": {
              "type": "boolean"
            },
            "equipped": {
              "type": "boolean"
            },
            "carried": {
              "type": "boolean"
            },
            "activation": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["", "standard", "move", "swift", "immediate", "free", "attack", "full", "round", "minute", "hour"]
                },
                "cost": {"type": "number"},
                "condition": {"type": "string"}
              }
            },
            "duration": {
              "type": "object",
              "properties": {
                "value": {"type": "string"},
                "units": {
                  "type": "string",
                  "enum": ["inst", "perm", "conc", "round", "minute", "hour", "day"]
                }
              }
            },
            "target": {
              "type": "object",
              "properties": {
                "value": {"type": "string"}
              }
            },
            "range": {
              "type": "object",
              "properties": {
                "value": {"type": "string"},
                "units": {"type": "string"},
                "long": {"type": "number"}
              }
            },
            "uses": {
              "type": "object",
              "properties": {
                "value": {"type": "number"},
                "max": {"type": "number"},
                "per": {
                  "type": "string",
                  "enum": ["single", "day", "week", "charges"]
                }
              }
            },
            "damage": {
              "type": "object",
              "properties": {
                "parts": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "items": {"type": "string"},
                    "minItems": 2,
                    "maxItems": 2
                  }
                }
              }
            },
            "armor": {
              "type": "object",
              "properties": {
                "type": {"type": "string"},
                "value": {"type": "number"},
                "dex": {"type": "number"},
                "check": {"type": "number"},
                "spell": {"type": "number"},
                "speed": {"type": "object"}
              }
            },
            "weapon": {
              "type": "object",
              "properties": {
                "type": {"type": "string"},
                "size": {"type": "string"},
                "critMult": {"type": "number"},
                "critRange": {"type": "number"},
                "range": {"type": "number"}
              }
            },
            "masterwork": {
              "type": "boolean"
            },
            "hardness": {
              "type": "number"
            },
            "hp": {
              "type": "object",
              "properties": {
                "value": {"type": "number"},
                "max": {"type": "number"}
              }
            },
            "broken": {
              "type": "boolean"
            },
            "level": {
              "type": "number",
              "minimum": 0
            },
            "school": {
              "type": "string"
            },
            "components": {
              "type": "object",
              "properties": {
                "verbal": {"type": "boolean"},
                "somatic": {"type": "boolean"},
                "material": {"type": "boolean"},
                "focus": {"type": "boolean"},
                "divineFocus": {"type": "boolean"}
              }
            },
            "materials": {
              "type": "object",
              "properties": {
                "value": {"type": "string"}
              }
            },
            "save": {
              "type": "object",
              "properties": {
                "type": {"type": "string"},
                "dc": {"type": "number"},
                "description": {"type": "string"}
              }
            },
            "sr": {
              "type": "boolean"
            }
          }
        }
      }
    }
  ]
}
